<!DOCTYPE html>
<html lang="en">

<head>
  <meta charset="utf-8">
  <meta name="viewport" content="width=device-width, initial-scale=1">
  
  <title>Reusable UI components ‚Äì A journey from React to Wagtail - Thibaud‚Äôs blog</title>

  <link rel="stylesheet" href="/css/screen.css">

  
  <meta name="description" content="This is Ben Dickinson and I‚Äôs joint Wagtail Space US 2020 talk about pattern libraries at Torchbox, introducing django-pattern-library.">
  <meta name="author" content="Thibaud Colas"><link rel="canonical" href="https://thib.me/reusable-ui-components-journey-from-react-to-wagtail">
  <link href="/favicon.ico" rel="shortcut icon">
  <link href="/atom.xml" rel="alternate" title="Thibaud‚Äôs blog" type="application/atom+xml">

  <meta name="twitter:card" content="summary_large_image">
  <meta property="og:url" content="https://thib.me/reusable-ui-components-journey-from-react-to-wagtail">
  <meta property="og:type" content="article">
  <meta property="og:site_name" content="Thibaud‚Äôs blog">
  <meta name="twitter:site" content="@thibaud_colas">
  <meta name="twitter:creator" content="@thibaud_colas">
  <meta property="og:title" content="Reusable UI components ‚Äì A journey from React to Wagtail">
  <meta property="og:description" content="This is Ben Dickinson and I‚Äôs joint Wagtail Space US 2020 talk about pattern libraries at Torchbox, introducing django-pattern-library.">
  
  <meta name="twitter:label1" value="Reading time">
  <meta name="twitter:data1" value="Not too long">

  <link rel="meta" title="FOAF" type="application/rdf+xml" href="/foaf.rdf">

  
  <script>
    window.ga=function(){ga.q.push(arguments)};ga.q=[];ga.l=+new Date;
    ga('create','UA-34692999-4','auto');ga('send','pageview')
  </script>
  <script src="https://www.google-analytics.com/analytics.js" async defer></script>


</head>

<body   >
  <header><hgroup>
  <h1><a href="/">Thibaud‚Äôs blog</a></h1>
  
    <h2>Notes, thoughts, and open-source software</h2>
  
</hgroup>

</header>
  <nav>  
<ul class="main-navigation">
  <li><a href="https://twitter.com/thibaud_colas">Twitter</a></li>
  <li><a href="https://github.com/thibaudcolas">GitHub</a></li>
  <li><a href="/resume" data-no-instant>Resume</a></li>
  <li><a href="/about/">About</a></li>
</ul>

</nav>
  <div role="main" id="main">
    <div id="content">
      <div class="blog-index">
<article class="hentry">
  
  <header>
    
      <a class="edit-link" aria-label="Edit this page on GitHub" href="https://github.com/thibaudcolas/thibaudcolas/edit/main/src/_posts/2020-07-31-reusable-ui-components-journey-from-react-to-wagtail.md">Edit</a>
      <h1 class="entry-title">Reusable UI components ‚Äì A journey from React to Wagtail</h1>
    
    
      <p class="meta">
        









<time datetime="2020-07-31T01:15:22+00:00" pubdate data-updated="true">2020-07-31 01:15</time>
        
      </p>
    
  </header>


<div class="entry-content" data-no-instant><p>This is Ben Dickinson and I‚Äôs joint <a href="https://us.wagtail.space/">Wagtail Space US 2020</a> talk about pattern libraries at Torchbox, introducing <a href="https://github.com/torchbox/django-pattern-library">django-pattern-library</a>.</p>

<!-- more -->

<iframe width="560" height="315" src="https://www.youtube-nocookie.com/embed/isrOufI7TKc" frameborder="0" allow="accelerometer; autoplay; clipboard-write; encrypted-media; gyroscope; picture-in-picture" allowfullscreen=""></iframe>

<p>Slides: <a href="https://docs.google.com/presentation/d/1pZAbunn0Ci8B9NR0mS5taOPe7BMdAiDrKNIcd9xBWO4/edit">Wagtail Space US 2020 - Reusable UI components ‚Äì A journey from React to Wagtail</a></p>

<hr />

<h2 id="pattern-libraries-as-a-methodology">Pattern libraries as a methodology</h2>

<h3 id="atomic-design">Atomic Design</h3>

<h3 id="pattern-lab">Pattern Lab</h3>

<h2 id="react">React</h2>

<h3 id="a-paradigm-shift">A paradigm shift</h3>

<ul>
  <li>Component-driven UIs</li>
  <li>Functional programming for UIs</li>
  <li>Not a template language</li>
</ul>

<h3 id="what-makes-react-good-in-practice">What makes React good in practice</h3>

<ul>
  <li>Nice developer experience</li>
  <li>Reusable components</li>
  <li>Maintainable, testable code</li>
  <li>Component-driven development with Storybook</li>
</ul>

<h3 id="pattern-libraries-at-torchbox">Pattern libraries at Torchbox</h3>

<p>The codified interface between front-end and back-end work</p>

<ul>
  <li>Clarifies responsibilities, separates concerns, both in code, and as members of a development team</li>
  <li>If needed, makes it possible for front-end developers to work on pages and block templates before the models are done</li>
  <li>Encourages code reuse ‚Äì defining independent UI components, easy to port to other projects</li>
</ul>

<h3 id="current-trends-design-systems">Current trends: design systems</h3>

<ul>
  <li><a href="https://designsystem.digital.gov/">USWDS</a></li>
  <li><a href="https://design-system.service.gov.uk/">GOV.UK Design System</a></li>
  <li><a href="https://luna.sainsburys.co.uk/">Sainsbury‚Äôs Luna</a></li>
  <li><a href="https://decanter.stanford.edu/">Stanford‚Äôs Decanter</a></li>
</ul>

<h2 id="why-develop-another-pattern-library-tool">Why develop another pattern library tool?</h2>

<h3 id="challenges">Challenges</h3>

<ul>
  <li>Most of our projects are not API-driven React SPAs - they‚Äôre vanilla Django/Wagtail</li>
  <li>Django has a proprietary template language</li>
  <li>Translating non-Django templates from a pattern library is time-consuming and error-prone</li>
  <li>Duplicating templates is a maintenance burden and often leads to divergence</li>
</ul>

<h3 id="more-challenges">More challenges!</h3>

<ul>
  <li>Template tags are great, but are discouraged by using a pattern library that doesn‚Äôt support them</li>
  <li>Tags often depend on the database (e.g. <code class="language-plaintext highlighter-rouge">include_block foo</code>)</li>
  <li>Visual testing requires time-consuming manual setup</li>
  <li>Django‚Äôs native testing tools are inadequate for visual testing - especially cross-browser</li>
</ul>

<h3 id="pattern-lab-goes-django">Pattern Lab goes Django!</h3>

<p>pip install django-pattern-library</p>

<h3 id="features">Features</h3>

<ul>
  <li>Component playground for Django template partials</li>
  <li>Mock template context from YAML files</li>
  <li>Template documentation in markdown</li>
  <li>Mock out template tags (both built-in and user-defined tags)</li>
</ul>

<h3 id="advantages">Advantages</h3>

<ul>
  <li>No duplication of templates - the pattern library uses the real templates</li>
  <li>All components can be viewed in one place</li>
  <li>Easier visual testing</li>
  <li>No need for content in the DB</li>
  <li>Front-end development can happen before the models are ready</li>
</ul>

<h3 id="known-issues">Known issues</h3>

<ul>
  <li>Documentation is good but could be much better</li>
  <li>Context merging is fragile and requires some repetition in YAML files</li>
  <li>Template tag mocking is not flexible enough</li>
  <li>No support for mocking filters yet</li>
  <li>Richer objects are fiddly to mock (e.g. ``)</li>
</ul>

<h2 id="demo-time">Demo time!</h2>

<h3 id="first-demo">First demo</h3>

<h3 id="second-demo">Second demo</h3>

<p><a href="https://storybook-django.herokuapp.com/?path=/docs/django-patterns-streamfield-quote-block--default">storybook-django</a></p>

<h2 id="takeaways-">Takeaways üåà</h2>

<h3 id="why-we-recommend-this-approach">Why we recommend this approach</h3>

<ul>
  <li>As a methodology: speeds up the process for medium to large sites</li>
  <li>Reusable components: Encourages code reuse and UI consistency across the site</li>
  <li>Testing opportunities: Manual ‚Äúunit tests‚Äù for UI components, &amp; opportunities for automated visual regression / E2E / accessibility tests</li>
</ul>

<h3 id="ready-to-use">Ready to use</h3>

<ul>
  <li>Used for all production Wagtail sites at Torchbox: <a href="https://github.com/torchbox/django-pattern-library">django-pattern-library</a></li>
  <li>Experimental, used on two projects, feedback welcome: <a href="https://github.com/torchbox/storybook-django">storybook-django</a></li>
  <li>For all our React projects: <a href="https://storybook.js.org/">Storybook</a></li>
</ul>

<h3 id="ready-for-contributions-">Ready for contributions üò¨</h3>

<ul>
  <li>Open-sourced <a href="https://github.com/torchbox/django-pattern-library">django-pattern-library</a> a few months ago</li>
  <li><a href="https://github.com/torchbox/storybook-django">storybook-django</a> still very experimental</li>
  <li>Feedback welcome</li>
</ul>

<p>Backlog for the next three months: <a href="https://github.com/torchbox/django-pattern-library/projects/3">github.com/torchbox/django-pattern-library/projects/3</a></p>

<h2 id="thank-you">Thank you!</h2>

<p>Thank you to Dan, Tom, William, Nick for helping us rehearse!</p>
</div>



  <footer>
    <p class="meta">
      
<span class="byline author vcard">By <span class="fn">Thibaud Colas</span></span>

      









<time datetime="2020-07-31T01:15:22+00:00" pubdate data-updated="true">2020-07-31 01:15</time>
      

<span class="categories">
  
    
      <a class="category" href="/categories/accessibility/">Accessibility</a>,
    
      <a class="category" href="/categories/wagtail/">Wagtail</a>,
    
      <a class="category" href="/categories/tools/">Tools</a>
    
  
</span>


    </p>
    
      <div class="sharing">
  
  
  
</div>

    
    <p class="meta">
      
        <a class="basic-alignment left" href="/accessibility-wins-for-wagtail-projects" title="Previous Post: Accessibility wins for Wagtail projects">&laquo; Accessibility wins for Wagtail projects</a>
      
      
        <a class="basic-alignment right" href="/testing-accessibility-in-ci-with-pa11y-and-beyond" title="Next Post: Testing accessibility in Continuous Integration with Pa11y and beyond">Testing accessibility in Continuous Integration with Pa11y and beyond &raquo;</a>
      
    </p>
  </footer>
</article>

</div>

<aside class="sidebar">
  <section>
  <h1>Recent Posts</h1>
  <ul id="recent_posts">
    
      <li class="post">
        <a href="/2022-web-conferences">2022 web conferences</a>
      </li>
    
      <li class="post">
        <a href="/djangocon-us-2021-kontrasto-improving-accessibility-with-python">DjangoCon US 2021: Kontrasto ‚Äì improving accessibility with Python</a>
      </li>
    
      <li class="post">
        <a href="/wcag-22-accessibility-guidelines">WCAG 2.2: new accessibility guidelines on the way</a>
      </li>
    
      <li class="post">
        <a href="/djangocon-europe-2021-sprints-accessibility-review-pycon-lithuania">DjangoCon Europe 2021 sprints ‚Äì Accessibility review of PyCon Lithuania</a>
      </li>
    
      <li class="post">
        <a href="/djangocon-europe-2021-sprints-accessibility-review-django-postgres-metrics">DjangoCon Europe 2021 sprints ‚Äì Accessibility review of Django Postgres Metrics</a>
      </li>
    
  </ul>
</section>

  
<section>
  <h1>GitHub Repos</h1>
  <ul id="gh_repos" data-user="thibaudcolas" data-count="5">
    <li class="loading">Status updating...</li>
  </ul>
  
  <a href="https://github.com/thibaudcolas">@thibaudcolas</a> on GitHub
  
  <script src="/javascripts/github.js"></script>
</section>


</aside>


    </div>
  </div>
  <footer><p>
  By <a href="" rel="author">Thibaud Colas</a> -
  Content available under <a class="license" rel="license" href="https://creativecommons.org/publicdomain/zero/1.0/">CC0</a> -
  <span class="credit">Hosted on <a href="https://pages.github.com/">GitHub Pages</a></span> -
  <a class="fork-link" href="https://github.com/thibaudcolas/thibaudcolas">View source</a>
</p>

</footer>
  

<script src="/javascripts/libs/instantclick.min.js" data-no-instant></script>
<script data-no-instant>InstantClick.init(50);</script>


</body>
</html>
