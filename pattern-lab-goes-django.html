<!DOCTYPE html>
<html lang="en">

<head>
  <meta charset="utf-8">
  <meta name="viewport" content="width=device-width, initial-scale=1">
  
  <title>Pattern Lab goes Django - Thibaud’s blog</title>

  <link rel="stylesheet" href="/css/screen.css">

  
  <meta name="description" content="If you’re into UI component reuse, you may have heard of Atomic Design and Pattern Lab. We’re big fans at Torchbox, but Pattern Lab is PHP or Node-based, whi...">
  <meta name="author" content="Thibaud Colas"><link rel="canonical" href="https://torchbox.com/blog/reusable-ui-components-pattern-lab-goes-django/">
  <link href="/favicon.ico" rel="shortcut icon">
  <link href="/atom.xml" rel="alternate" title="Thibaud’s blog" type="application/atom+xml">

  <meta name="twitter:card" content="summary_large_image">
  <meta property="og:url" content="https://torchbox.com/blog/reusable-ui-components-pattern-lab-goes-django/">
  <meta property="og:type" content="article">
  <meta property="og:site_name" content="Thibaud’s blog">
  <meta name="twitter:site" content="@thibaud_colas">
  <meta name="twitter:creator" content="@thibaud_colas">
  <meta property="og:title" content="Pattern Lab goes Django">
  <meta property="og:description" content="If you’re into UI component reuse, you may have heard of Atomic Design and Pattern Lab. We’re big fans at Torchbox, but Pattern Lab is PHP or Node-based, whi...">
  
  <meta name="twitter:label1" value="Reading time">
  <meta name="twitter:data1" value="Not too long">

  <link rel="meta" title="FOAF" type="application/rdf+xml" href="/foaf.rdf">

  
  <script>
    window.ga=function(){ga.q.push(arguments)};ga.q=[];ga.l=+new Date;
    ga('create','UA-34692999-4','auto');ga('send','pageview')
  </script>
  <script src="https://www.google-analytics.com/analytics.js" async defer></script>


</head>

<body   >
  <header><hgroup>
  <h1><a href="/">Thibaud’s blog</a></h1>
  
    <h2>Notes, thoughts, and open-source software</h2>
  
</hgroup>

</header>
  <nav>  
<ul class="main-navigation">
  <li><a href="https://twitter.com/thibaud_colas">Twitter</a></li>
  <li><a href="https://github.com/thibaudcolas">GitHub</a></li>
  <li><a href="/resume" data-no-instant>Resume</a></li>
  <li><a href="/about/">About</a></li>
</ul>

</nav>
  <div role="main" id="main">
    <div id="content">
      <div class="blog-index">
<article class="hentry">
  
  <header>
    
      <a class="edit-link" aria-label="Edit this page on GitHub" href="https://github.com/thibaudcolas/thibaudcolas/edit/main/src/_posts/2020-12-11-pattern-lab-goes-django.md">Edit</a>
      <h1 class="entry-title">Pattern Lab goes Django</h1>
    
    
      <p class="meta">
        









<time datetime="2020-12-11T12:52:22+00:00" pubdate data-updated="true">2020-12-11 12:52</time>
        
      </p>
    
  </header>


<div class="entry-content" data-no-instant><p>If you’re into UI component reuse, you may have heard of <a href="https://atomicdesign.bradfrost.com/">Atomic Design</a> and <a href="https://patternlab.io/">Pattern Lab</a>. We’re big fans at Torchbox, but Pattern Lab is PHP or Node-based, while we decided long ago to <a href="https://torchbox.com/blog/alternatives-to-drupal/">leave the PHP / Drupal world behind</a>, and concentrate on Django. We took Pattern Lab with us, and built <a href="https://torchbox.github.io/django-pattern-library/">django-pattern-library</a> – a.k.a. Pattern Lab goes Django.</p>

<!-- more -->

<h2 id="pattern-libraries-at-torchbox">Pattern libraries at Torchbox</h2>

<p>At Torchbox, pattern libraries are a way to separate concerns between front-end and back-end development. We’ve been using our Django pattern library package for a couple of years to:</p>

<ul>
  <li>Clarify responsibilities and separate concerns, both in code, and as members of a development team between front-end and back-end development.</li>
  <li>As needed, enable for front-end developers to work on pages and block templates before any back-end development happens.</li>
  <li>Encourage code reuse and components composition – defining independent UI components, reusable without markup copy-paste, and reusable on other projects like any Django app.</li>
</ul>

<p>Does this sound useful to you? Go and have a look at our introductory presentation from Wagtail Space US 2020, <a href="https://www.youtube.com/watch?v=isrOufI7TKc">Reusable UI components – A journey from React to Wagtail</a>:</p>

<iframe width="560" height="315" src="https://www.youtube-nocookie.com/embed/isrOufI7TKc" frameborder="0" allow="accelerometer; autoplay; clipboard-write; encrypted-media; gyroscope; picture-in-picture" allowfullscreen=""></iframe>

<p>Slides: <a href="https://docs.google.com/presentation/d/1pZAbunn0Ci8B9NR0mS5taOPe7BMdAiDrKNIcd9xBWO4/edit">Wagtail Space US 2020 - Reusable UI components – A journey from React to Wagtail</a></p>

<h2 id="our-first-big-release">Our first big release</h2>

<p>Pattern Lab has been around for a while, and so has our own <a href="https://torchbox.github.io/django-pattern-library/">django-pattern-library</a>, but we only open-sourced it a few months ago. Sadly it wasn’t as well documented or flexible as we would have liked it to be. This is starting to change with our most recent release. Here are the headline features:</p>

<ul>
  <li><a href="https://torchbox.github.io/django-pattern-library/getting-started/#compatibility">Support for Python 3.9, Django 3.0, 3.1, and tentatively 3.2</a>. We also started running the project’s tests against Django’s development branch for good measure.</li>
  <li>A new <a href="https://torchbox.github.io/django-pattern-library/guides/automated-tests/#with-render_patterns"><em>render_patterns</em> management command</a>, so you can test whether all of your project’s patterns render successfully at once. Think of it as smoke tests for pattern library components.</li>
  <li><a href="https://torchbox.github.io/django-pattern-library/reference/api/#override_tag">Optional default values for tag overrides</a>, so you no longer have to repeat specific overrides in all of your component mocks.</li>
  <li><a href="https://torchbox.github.io/django-pattern-library/reference/api/#sections">Support for arbitrary template structures</a> – whether that’s across multiple apps or only one, however you want your templates to be structured.</li>
</ul>

<p>View the full <a href="https://github.com/torchbox/django-pattern-library/blob/master/CHANGELOG.md">CHANGELOG</a>. Along those shiny features, we also released two massive improvements to the project: a <a href="https://torchbox.github.io/django-pattern-library/">new documentation website</a>, with lots more content – guides, recipes, and reference info. And also a <a href="https://torchbox.github.io/django-pattern-library/demo/pattern-library/">new demo site</a>, so you can see for yourself how the project works (although note the public demo is <a href="https://torchbox.github.io/django-pattern-library/guides/static-site-export/">exported as a static site</a>).</p>

<h3 id="template-structures">Template structures</h3>

<p>Starting in v0.3.0, you may structure your project’s templates in however many folders you want. This feels like such an obvious need in hindsight, but the pattern library having only been an internal Torchbox project for a while, it didn’t really need to accommodate that many different structures!</p>

<p>This is now possible thanks to the new <a href="https://torchbox.github.io/django-pattern-library/reference/api/#sections">SECTIONS</a> setting, with the previous predefined structure kept as the default for backwards compatibility. It also comes with a lot of black magic to decide which templates are partials and should be rendered in a base template, and which can be rendered as-is.</p>

<h3 id="render_patterns">render_patterns</h3>

<p>This new management command might or might not be relevant to you but it’s worth highlighting use cases this is intended to support:</p>

<ul>
  <li><a href="https://torchbox.github.io/django-pattern-library/guides/static-site-export/">Static exports of the pattern library</a>, for those cases where you want a simple way to share patterns publicly or host them alongside documentation, rather than alongside your site.</li>
  <li><a href="https://torchbox.github.io/django-pattern-library/guides/automated-tests/">Automated tests of UI components</a>, particularly in continuous integration, where it might be problematic for you to get a Django server up and running depending on the project’s dependencies.</li>
</ul>

<p>Combined with tools like <a href="https://pa11y.org/">Pa11y and pa11y-ci</a>, this makes it much simpler to run site-wide automated accessibility tests for all of your project’s templates, making the most of the pattern library’s tightly controlled mock data:</p>

<p><img src="/images/blog/pattern-lab-goes-django/gitlab-ci-pa11y-patterns.png" alt="Screenshot of pa11y-ci output in GitLab CI showing reported issues on pattern library templates" /></p>

<p>There are still rough edges (for example the command will abort the whole test suite if only a single template fails to render!), but we hope you’ll find uses for this nonetheless.</p>

<h2 id="whats-next">What’s next</h2>

<p>Hopefully more of the above – new features, more stability, better documentation. We’re particulary keen on <a href="https://github.com/torchbox/django-pattern-library/issues/106">finding ways to mock templates with factories rather than plain data structures</a>, and <a href="https://github.com/torchbox/django-pattern-library/issues/103">combining our Django rendering features with Storybook’s developer experience</a>.</p>
</div>



  <footer>
    <p class="meta">
      
<span class="byline author vcard">By <span class="fn">Thibaud Colas</span></span>

      









<time datetime="2020-12-11T12:52:22+00:00" pubdate data-updated="true">2020-12-11 12:52</time>
      

<span class="categories">
  
    
      <a class="category" href="/categories/django/">Django</a>,
    
      <a class="category" href="/categories/wagtail/">Wagtail</a>,
    
      <a class="category" href="/categories/project/">Project</a>
    
  
</span>


    </p>
    
      <div class="sharing">
  
  
  
</div>

    
    <p class="meta">
      
        <a class="basic-alignment left" href="/detecting-wagtail-in-the-wild" title="Previous Post: Detecting Wagtail in the wild">&laquo; Detecting Wagtail in the wild</a>
      
      
        <a class="basic-alignment right" href="/atag-getting-started-resources" title="Next Post: ATAG 2.0 getting started resources">ATAG 2.0 getting started resources &raquo;</a>
      
    </p>
  </footer>
</article>

</div>

<aside class="sidebar">
  <section>
  <h1>Recent Posts</h1>
  <ul id="recent_posts">
    
      <li class="post">
        <a href="/state-of-wagtail-wagtail-space-us-2022">The State of Wagtail - Wagtail Space US 2022</a>
      </li>
    
      <li class="post">
        <a href="/state-of-wagtail-accessibility">State of Wagtail’s accessibility</a>
      </li>
    
      <li class="post">
        <a href="/adding-prettier-existing-project">Adding Prettier onto an existing project</a>
      </li>
    
      <li class="post">
        <a href="/wagtail-developer-jobs-where-to-look">Wagtail developer jobs: where to look</a>
      </li>
    
      <li class="post">
        <a href="/aria-invalid-true-with-aria-describedby">aria-invalid="true" with aria-describedby</a>
      </li>
    
  </ul>
</section>

  
<section>
  <h1>GitHub Repos</h1>
  <ul id="gh_repos" data-user="thibaudcolas" data-count="5">
    <li class="loading">Status updating...</li>
  </ul>
  
  <a href="https://github.com/thibaudcolas">@thibaudcolas</a> on GitHub
  
  <script src="/javascripts/github.js"></script>
</section>


</aside>


    </div>
  </div>
  <footer><p>
  By <a href="" rel="author">Thibaud Colas</a> -
  Content available under <a class="license" rel="license" href="https://creativecommons.org/publicdomain/zero/1.0/">CC0</a> -
  <span class="credit">Hosted on <a href="https://pages.github.com/">GitHub Pages</a></span> -
  <a class="fork-link" href="https://github.com/thibaudcolas/thibaudcolas">View source</a>
</p>

</footer>
  

<script src="/javascripts/libs/instantclick.min.js" data-no-instant></script>
<script data-no-instant>InstantClick.init(50);</script>


</body>
</html>
